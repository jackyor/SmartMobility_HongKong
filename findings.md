## RQ1: In what ways does ride-pooling surpass exclusive rides in terms of transport efficiency in Hong Kong?
The first research question of this study explores the advantages of ride-pooling over exclusive rides in terms of transport efficiency in Hong Kong. The insights derived from the simulation results offer a comprehensive understanding of general ridepooling services, service operation schemes that are door-to-door and stop-based systems, the capacity of passengers in a single vehicle, and the fleet size in service.

### General
 <img width="413" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/b482af65-a90f-4da2-a47b-1fbc37fb68f6">

Figure IV 1. The Ratio of VKT by Ridepooling with a Service Rate Above 95% and VKT by Exclusive Rides: In the legend, “door_2” represents a door-to-door ridepooling service with a capacity of two passengers. “stop_2” represents a stop-based ridepooling service with a capacity of two passengers, and so on.

 <img width="420" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/fb2ec6b6-e644-47bd-bb3a-6466c6fa81fc">

Figure IV 2. Mean Detouring of Ridepooling with a Service Rate Above 95%: In the legend, “door_2” represents a door-to-door ridepooling service with a capacity of two passengers. “stop_2” represents a stop-based ridepooling service with a capacity of two passenger , and so on.
This study simulates various ridepooling services, incorporating different operation schemes, vehicle capacities, and fleet sizes. It’s found that all these services generate less VKT compared to exclusive rides. As depicted in Fig 4-1., only ridepooling services with a service rate threshold of 95% are considered to ensure a fair VKT comparison. This is because a lower service rate would naturally lead to lower VKT. The figure illustrates the ratio of VKT generated by ridepooling services (with at least a 95% service rate) to that of an exclusive ride, which is 1,438,105 km. The findings reveal that all ridepooling services result in lower VKT than exclusive rides, ranging from 40% to 88% of the VKT of exclusive rides. This translates to a VKT reduction of approximately 127,000 to 869,000 km.

Fig 4-2. presents the average detouring generated by ridepooling services that achieve at least a 95% service rate. The average detouring of ridepooling services ranges from 1.14 to 1.19, while that of exclusive rides is 1. Detouring in ridepooling occurs due to varying pick-up and drop-off coordinates, whereas exclusive rides have only one set of each. These results suggest that ridepooling services can significantly reduce VKT by compensating for detouring, compared to exclusive rides.

 
### By Operation Scheme

<img width="651" alt="Screenshot 2023-12-16 at 9 52 50 PM" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/492f27c2-78ca-4f04-88cd-8db6570bb47f">

In terms of the operation scheme, stop-based ridepooling services prove to be more efficient than door-to-door ridepooling services in reducing VKT when compared to exclusive rides. As illustrated in Fig 4-1., all door-to-door operations, represented by lines with square dots, generate more VKT than stop-based operations, represented by lines with circle dots, under the same vehicle capacity and fleet size. 

Table 4-1. further supports this, showing that stop-based operations reduce VKT by an average of 20.0% to 30.7% across all vehicle capacities and fleet size, compared to door-to-door operations. This evidence suggests that, given the same vehicle capacity and fleet size, stop-based operations are more effective in reducing VKT than door-to-door operations.

 
### By Capacity
 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/678edd99-62d7-4336-9e30-e2c8f7ab7935">

Figure IV 3. The Ratio of VKT by Ridepooling with a Capacity of 2 and Other Capacities: In the legend, “door4/door2” represents the ratio of the VKT of door-to-door ridepooling service with a capacity of 4 passengers to that of door-to-door ridepooling service with a capacity of 2 passengers, and so on.

Regarding vehicle capacity, it’s observed that an increase in capacity generally results in a decrease in VKT. This is depicted in Figure 4-3., which presents the ratio of the VKT of all capacities to the base case with a capacity of 2, in relation to their operation scheme. The figure demonstrates that a capacity increase leads to a reduction in VKT across almost all settings. However, there are exceptions during the initial iterations where a lower service rate is observed due to an insufficient fleet size.

Additionally, the marginal effect of increased capacity on reducing VKT decreases from a capacity of 4 to 16 in both operation schemes and across all fleet sizes. In the latter iterations that increase the fleet size, a capacity of 4 reduces VKT to around 80% and 73% in door-to-door and stop-based operations, respectively, compared to a capacity of 2. However, when compared to the VKT of a capacity of 4, a capacity of 8 only reduces VKT by around 3% to 7% in both operation schemes. Furthermore, the line representing the VKT of a capacity of 8 almost overlaps with the line representing the VKT of a capacity of 16, in both operation schemes, meaning that they generate nearly same VKT. These findings indicate that while an increase in capacity leads to a decrease in VKT, the marginal effect of increasing capacity beyond 4 is minimal.

 
### By Fleet Size
 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/d8c487bd-5d06-4d7b-96ac-2866fac53798">

Figure IV 4. The Rate of Change in VKT Relative To Fleet Size: In the legend, “door_2” represents a door-to-door ridepooling service with a capacity of two passengers. “stop_2” represents a stop-based ridepooling service with a capacity of two passenger , and so on.


An increase in fleet size results in a change in VKT across both operation schemes and all capacities. As depicted in Fig 4-4., adding to the fleet size initially increases the VKT by 14% to 31%. However, this increase drops to a range of 0% to 7% at a fleet size of 4,000 and eventually remains unchanged. Across all settings, the marginal effect of increasing the fleet size on VKT diminishes as the fleet size increases. This pattern arises because an increase in fleet size enhances the service rate, thereby generating more VKT. However, once the service rate reaches saturation, it restricts further increases in VKT. These findings suggest that an increase in fleet size leads to an initial increase in VKT by accommodating more requests. However, this effect plateaus once the service rate is saturated, indicating that most demands are being serviced.

## RQ2: What is the optimal combination of vehicle capacity and fleet size for efficient ridepooling in Hong Kong?

The second research question we aim to address is: “What is the optimal combination of vehicle capacity and fleet size for efficient ridepooling in Hong Kong?” This section will provide an answer to this question by analyzing efficiency indicators and wait times across various ride-pooling services, each with different operation schemes, capacities, and fleet sizes. System efficiency is calculated as the ratio of Passenger Kilometers Booked (PKB) to VKT. This ratio represents the efficiency of a ride-pooling service in fulfilling travel demand (as measured by PKB) relative to VKT. Wait time is another crucial metric for evaluating the effectiveness of a ride-pooling service. As highlighted in the literature review in Chapter 2, time is often the primary consideration for passengers when choosing their mode of travel. Therefore, a service’s ability to minimize wait times can significantly influence its appeal and usage.

 
### By Operation Scheme
 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/31368cb9-c2fc-4855-8a77-12b6f42bc71e">

Figure IV 5. System Efficiency of Different Ridepooling Services: In the legend, “door_2” represents a door-to-door ridepooling service with a capacity of two passengers. “stop_2” represents a stop-based ridepooling service with a capacity of two passenger , and so on.

<img width="653" alt="Screenshot 2023-12-16 at 9 53 17 PM" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/a3974e7b-a0b3-4672-a51e-f4f873687145">

When it comes to the operation scheme, it appears that stop-based operations are more efficient than door-to-door operations. As depicted in Figure 4-5., all stop-based operations (represented by lines with circle dots) yield a higher system efficiency than door-to-door operations (represented by lines with square dots), given the same vehicle capacity and fleet size. Table 4-2. further substantiates this, indicating that stop-based operations result in an average system efficiency increase of 6.9% to 23.5% across all vehicle capacities and fleet sizes, compared to door-to-door operations. These findings suggest that, irrespective of vehicle capacity and fleet size, stop-based operations are more efficient than door-to-door operations in transporting passengers.

 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/b0cd1658-a1d0-4fa8-8f4a-e11261b1648c">

Figure IV 6. Average Wait Time of Ridepooling Services: In the legend, “door_2” represents a door-to-door ridepooling service with a capacity of two passengers. “stop_2” represents a stop-based ridepooling service with a capacity of two passenger , and so on.

<img width="609" alt="Screenshot 2023-12-16 at 9 53 36 PM" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/9488748e-28b8-412a-9830-b57dbd46fdbc">

From the perspective of passenger wait times, similarly in efficiecnt performance, stop-based operations generally outperform door-to-door operations. As depicted in Figure 4-6., services operated on a stop-based scheme have a significantly lower average wait time than those operated on a door-to-door basis, given the same capacity. Table 4-3. presents the mean wait time for each service setting, averaged across all fleet sizes, and the difference between stop-based and door-to-door operations. Stop-based operations result in a decrease in average wait time ranging from 10.0% to 21.2% compared to door-to-door operations.

### By Capacity 
 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/7c2404ba-79fb-403c-8632-de30e0d6959e">

Figure IV 7. Comparison of System Efficiency for Ridepooling Services Across Different Capacities: In the legend, “door4/door2” represents the ratio of the system efficiency of door-to-door ridepooling service with a capacity of 4 passengers to that of door-to-door ridepooling service with a capacity of 2 passengers, and so on.

In terms of vehicle capacity, both operation schemes generally exhibit an increase in system efficiency with an increase in capacity. Figure 4-7 illustrates that the impact of increasing vehicle capacity on system efficiency is not linear in either operation scheme. When compared to the system efficiency of ride-pooling services with a smaller capacity, the marginal effect of increased capacity on improving efficiency diminishes with the number of capacities. Services that increase their capacity from 2 to 4 yield the most significant improvement in efficiency, averaging increases of 25% and 38% in door-to-door and stop-based operations, respectively. Conversely, services that increase their capacities from 4 to 8 average increases of only 3% and 8% in door-to-door and stop-based operations, respectively. Services that increase their capacities from 8 to 16 see no change in efficiency. These findings suggest that while an increase in capacity does lead to an increase in system efficiency, the impact is not linear. The marginal effect of increasing capacity beyond 4 is minimal.

 <img width="451" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/5e1d1778-fcaa-44ea-a418-b1512b7672aa">

Figure IV 8. Comparison of the Average Wait Time with Capacity=2 and Other Capacities: In the legend, “door4/door2” represents the ratio of the average wait time of door-to-door ridepooling service with a capacity of 4 passengers to that of door-to-door ridepooling service with a capacity of 2 passengers, and so on.

From the passengers’ perspective, the wait time of the services is also affected by the increase of capacity, similar to the efficiency. In general, more vehicle capacity reduces the average wait time, but with diminishing returns. Fig 4-8 shows the ratio of the average wait time of service with different capacities to the base case with a capacity of 2, for each operation scheme. The figure shows that the best improvement in mean wait time is achieved by increasing the capacity from 2 to 4, which results in decreases ranging from 7.5% to 19.0% in both schemes. The marginal effect of capacity on reducing wait time declines when the capacity increases from 4 to 8 and disappears from 8 to 16.

 
### By Fleet Size
<img width="645" alt="Screenshot 2023-12-16 at 9 53 58 PM" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/0fcb60f9-680d-49f0-a39d-d838ad3a099b">

The fleet size has a negligible impact on the system efficiency across all capacities and operation schemes. As shown in Fig 4-5, the efficiency remains almost constant as the fleet size increases from 2,000 to 14,000. Moreover, table 4-1 shows that the standard deviations of efficiency among different fleet sizes are very small. Furthermore, table 4-4 shows that the changes in efficiency due to different fleet sizes are minimal, ranging from -2.3% to 1.3%. These results indicate that the ridepooling services are not sensitive to the fleet size.
 <img width="382" alt="image" src="https://github.com/jackyor/matsim_HongKong/assets/87265896/a07a46ba-f9bb-4626-be52-95ad8ed33a6d">

Figure IV 9. The rate of change in mean wait time across services In the legend, “door4/door2” represents the ratio of the VKT of door-to-door ridepooling service with a capacity of 4 passengers to that of door-to-door ridepooling service with a capacity of 2 passengers, and so on.

To examine the impact of fleet size on passenger wait time, the mean wait time of different service capacities and operation schemes is compared. As shown in Fig 4-10, the mean wait time generally decreases as the fleet size increases. The most significant reduction occurs when the capacity increases from 2,000 to 3,000, followed by a gradual decline in the range of 2% to 0% when the capacity reaches 8,000. These results indicate that fleet size has a positive effect on reducing passenger wait time in ridepooling services.

